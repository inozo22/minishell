#!/bin/bash

#Â test echo
# echo "echo hoge" | ./minishell > minishell.txt
# echo "echo hoge" | bash > bash.txt

# echo -e "cd ..\n pwd" | ./minishell > minishell.txt
# echo -e "cd ..\n pwd" | bash >> bash.txt

echo "export | grep -v -E '^declare -x _='" | bash > bash.txt
echo "export | grep -v -E '^declare -x _='" | ./minishell > minishell.txt
echo "export 1 _+ _OK _2? _OK2=VAR =NG OK3=\n export | grep -v -E '^declare -x _='" | bash >> bash.txt
echo "export 1 _+ _OK _2? _OK2=VAR =NG OK3=\n export | grep -v -E '^declare -x _='" | ./minishell >> minishell.txt
echo "export dquote='\"' dollar='$' backslash='\' backquote='\`' newline='\\\n'\n export | grep -v -E '^declare -x _='" | bash >> bash.txt
echo "export dquote='\"' dollar='$' backslash='\' backquote='\`' newline='\\\n'\n export | grep -v -E '^declare -x _='" | ./minishell >> minishell.txt
echo "export APPEND=1\n export APPEND+=2\n export | grep APPEND" | bash >> bash.txt
echo "export APPEND=1\n export APPEND+=2\n export | grep APPEND" | ./minishell >> minishell.txt
echo "export APPEND_NONE=1\n export APPEND_NONE+=\n export | grep APPEND_NONE" | bash > bash.txt
echo "export APPEND_NONE=1\n export APPEND_NONE+=\n export | grep APPEND_NONE" | ./minishell >> minishell.txt
echo "export APPEND_NONE=\n export APPEND_NONE=\n export APPEND_NONE+=\n export | grep APPEND_NONE" | bash > bash.txt
echo "export APPEND_NONE=\n export APPEND_NONE=\n export APPEND_NONE+=\n export | grep APPEND_NONE" | ./minishell >> minishell.txt
echo "export APPEND_EMPTY=""\n export APPEND_EMPTY=""\n export APPEND_EMPTY=""\n export | grep APPEND_EMPTY" | bash > bash.txt
echo "export APPEND_EMPTY=""\n export APPEND_EMPTY=""\n export APPEND_EMPTY=""\n export | grep APPEND_EMPTY" | ./minishell >> minishell.txt
echo "export OVERWRITE=42\n export OVERWRITE=a\n export | grep OVERWRITE" | bash > bash.txt
echo "export OVERWRITE=42\n export OVERWRITE=a\n export | grep OVERWRITE" | ./minishell >> minishell.txt
echo "export A=B=C=D\n export | grep A" | bash > bash.txt
echo "export A=B=C=D\n export | grep A" | ./minishell >> minishell.txt
echo "export PATH\n export | grep PATH" | bash > bash.txt
echo "export PATH\n export | grep PATH" | ./minishell >> minishell.txt
echo "export PWD\n export | grep PWD" | bash > bash.txt
echo "export PWD\n export | grep PWD" | ./minishell >> minishell.txt
echo "export OLDPWD\n export | grep OLDPWD" | bash > bash.txt
echo "export OLDPWD\n export | grep OLDPWD" | ./minishell >> minishell.txt
echo "unset PWD\n cd ..\n export | grep PWD" | bash > bash.txt
echo "unset PWD\n cd ..\n export | grep PWD" | ./minishell >> minishell.txt
echo "unset OLDPWD\n cd ..\n export | grep OLDPWD" | bash > bash.txt
echo "unset OLDPWD\n cd ..\n export | grep OLDPWD" | ./minishell >> minishell.txt
echo "unset PWD\n cd ..\n export PWD=new_value\n export | grep PWD" | bash > bash.txt
echo "unset PWD\n cd ..\n export PWD=new_value\n export | grep PWD" | ./minishell >> minishell.txt
echo "unset OLDPWD\n cd ..\n export OLDPWD=new_value\n export | grep OLDPWD" | bash > bash.txt
echo "unset OLDPWD\n cd ..\n export OLDPWD=new_value\n export | grep OLDPWD" | ./minishell >> minishell.txt
echo "unset PWD\n cd ..\n export PWD\n export | grep PWD" | bash > bash.txt
echo "unset PWD\n cd ..\n export PWD\n export | grep PWD" | ./minishell >> minishell.txt
echo "unset OLDPWD\n cd ..\n export OLDPWD\n export | grep OLDPWD" | bash > bash.txt
echo "unset OLDPWD\n cd ..\n export OLDPWD\n export | grep OLDPWD" | ./minishell >> minishell.txt
echo "export =" | bash > bash.txt
echo "export =" | ./minishell >> minishell.txt

diff minishell.txt bash.txt
#echo "echo \"ðŸ¦¥â– â– â–   Im here â– â– â– ðŸ¦¥\""| bash >> bash.txt

